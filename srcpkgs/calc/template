# Template file for 'calc'
pkgname=calc
version=2.14.1.3
revision=1
build_style=gnu-makefile
make_build_args="ARCH_CFLAGS="
make_install_args="T=$""{DESTDIR}"
makedepends="readline-devel"
short_desc="C-style arbitrary precision calculator"
maintainer="Piotr WÃ³jcik <chocimier@tlen.pl>"
license="LGPL-2.1-only"
homepage="http://www.isthe.com/chongo/tech/comp/calc/index.html"
changelog="https://github.com/lcn2/calc/raw/master/CHANGES"
distfiles="http://www.isthe.com/chongo/src/calc/calc-${version}.tar.bz2"
checksum=e5a02f6338c09292d919ff5413e4dad7c228f44c0fefaf726255729221f8a9dd
disable_parallel_build=yes

do_build() {
	make ${makejobs} ${make_build_args} ${make_build_target} \
		CC="$CC" CXX="$CXX" LD="$LD" AR="$AR" RANLIB="$RANLIB" \
		CPP="$CPP" AS="$AS" OBJDUMP="$OBJDUMP" LDFLAGS="$LDFLAGS"

}

libcalc_package() {
	short_desc+=" - runtime library"
	pkg_install() {
		vmove usr/lib/*.so.*
	}
}

libcalc-devel_package() {
	depends="lib${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/*.so
	}
}

post_install() {
    exit 1
}
